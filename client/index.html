<!DOCTYPE html>
<html lang="de-de">
<head>
    <meta charset="UTF-8">
    <title>Startseite</title>
    <link href="styles.css" rel="stylesheet"/>
    <script src="script.js" rel="script"></script>
    <script src="database.js" rel="script"></script>
</head>
<body>
Hello World!
<form action="/guests/insert" method="POST">
    <label>Name:
        <input type="text" placeholder="Name" name="name">
    </label><br>
    <label>Children:
        <input type="number" placeholder="0" name="children" min="0">
    </label><br>
    <label>Invitationstatus:
        <select name="invitationstatus">
            <option value="unbekannt">unbekannt</option>
            <option value="eingeladen">eingeladen</option>
            <option value="zugesagt">zugesagt</option>
            <option value="abgesagt">abgesagt</option>
        </select>
    </label><br>
    <button type="submit">Submit</button>
</form>
<form action="/guests/select" method="POST">
    <button type="submit">Select All</button>
</form>
<pre id="json"></pre>
<script type="text/javascript">
  var opts = {
    url: 'http://localhost:8080/guests/select'
  };

  fetch(opts)
    .then((res) => {
      if (res.ok) {
        // document.getElementById("json").innerHTML = JSON.stringify(res.json()[0], undefined, 2);
        // return res.json();
      }
    })
    .then((rows) => {
      /* for (let row of rows) {
        // row will be a mysql row -- you can loop over these and do what you want with them
        row.Name;
      } */
      rows.forEach((rows) => {
        // console.log(rows.Name);
        // document.getElementById("json").innerHTML = rows.Name + '<br>';
      });
    })
    .catch(console.log);
</script>
</body>
</html>